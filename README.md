# **Simple Node.js App - Jenkins Freestyle CI/CD Project**

## **ğŸ“‹ Project Overview**

This project demonstrates a complete CI/CD setup using Jenkins Freestyle Project, GitHub webhooks, and a simple Node.js Express application. The freestyle job automatically builds the application whenever code is pushed to the GitHub repository.

---

## **ğŸ—ï¸ Architecture**

- **Development Server**: Hosts the Node.js application
- **Jenkins Server**: Automates build using Freestyle Project
- **GitHub Repository**: Source code management with webhook integration

---

## **ğŸš€ Setup Instructions**

### **1. Development Server Setup**

#### **Install Node.js and NPM**
```bash
sudo apt update -y
sudo apt install nodejs -y
nodejs --version
sudo apt install npm -y
npm --version
```

#### **Create Node.js Application**
```bash
mkdir mynodeapp
cd mynodeapp
touch app.js package.json
```

#### **Create app.js**
```bash
nano app.js
```

Add the following code:
```javascript
var express = require('express');

var app = express();

// Respond with "hello world" for requests that hit our root "/"
app.get('/', function (req, res) {
  res.send('Welcome to My Node-apps');
});

// Listen to port 3000 by default
app.listen(process.env.PORT || 3000);

module.exports = app;
```

#### **Create package.json**
```bash
nano package.json
```

Add the following configuration:
```json
{
  "name": "node-app",
  "description": "hello jenkins test app",
  "version": "0.0.1",
  "private": true,
  "dependencies": {
    "express": "3.12.0"
  },
  "devDependencies": {
    "mocha": "10.2.0",
    "supertest": "6.3.3"
  }
}
```

#### **Install Dependencies and Start Application**
```bash
npm install
sudo npm install -g pm2
pm2 start app.js
```

---

### **2. GitHub Repository Setup**

#### **Initialize Git Repository**
```bash
git init
git add .
git commit -m "Initial commit"
```

#### **Push to GitHub**
```bash
git remote add origin https://github.com/YOUR_USERNAME/mynodeapp.git
git push origin master
```

#### **Configure Webhook**

1. Go to your GitHub repository
2. Navigate to **Settings** â†’ **Webhooks** â†’ **Add webhook**
3. Set **Payload URL**: `http://YOUR_JENKINS_PUBLIC_IP/github-webhook/`
4. Set **Content type**: `application/json`
5. Select **Just the push event**
6. Click **Add webhook**

---

### **3. Jenkins Server Setup**

#### **Install Jenkins**
```bash
sudo apt update
sudo apt install openjdk-11-jdk -y
wget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -
sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'
sudo apt update
sudo apt install jenkins -y
sudo systemctl start jenkins
sudo systemctl enable jenkins
```

#### **Install NodeJS Plugin**

1. Go to **Manage Jenkins** â†’ **Manage Plugins**
2. Search for **NodeJS Plugin**
3. Install and restart Jenkins

#### **Configure NodeJS**

1. Go to **Manage Jenkins** â†’ **Global Tool Configuration**
2. Add NodeJS installation
3. Name it (e.g., `NodeJS`)
4. Select version and save

---

### **4. Create Jenkins Freestyle Job**

#### **Create New Job**

1. Click **New Item**
2. Enter job name: `simple-node-app`
3. Select **Freestyle project**
4. Click **OK**

#### **Configure Source Code Management**

1. Select **Git**
2. Repository URL: `https://github.com/YOUR_USERNAME/mynodeapp.git`
3. Branch: `*/master`

#### **Configure Build Triggers**

1. Check **GitHub hook trigger for GITScm polling**

#### **Configure Build Environment**

1. Check **Provide Node & npm bin/ folder to PATH**
2. Select the NodeJS installation you configured

#### **Add Build Step - Execute Shell**

1. Click **Add build step** â†’ **Execute shell**
2. Add command:
```bash
npm install
```

#### **Save Configuration**

---

## **ğŸ”„ How It Works**

1. Developer pushes code to GitHub repository
2. GitHub webhook triggers Jenkins freestyle job automatically
3. Jenkins pulls latest code from GitHub
4. Jenkins runs `npm install` in Execute Shell step to install dependencies
5. Build artifacts are stored in `/var/lib/jenkins/workspace/simple-node-app/`
6. Build status is displayed in Jenkins dashboard

---

## **ğŸ“‚ Project Structure**
```
mynodeapp/
â”œâ”€â”€ app.js              # Express application
â”œâ”€â”€ package.json        # Project dependencies
â””â”€â”€ node_modules/       # Installed packages (auto-generated by Jenkins)
```

---

## **ğŸ” Verify Build**

### **Check Jenkins Workspace**
```bash
cd /var/lib/jenkins/workspace/simple-node-app
ls -la
```

You should see:
- `app.js`
- `package.json`
- `node_modules/` (created after `npm install`)

### **View Console Output**

1. Go to Jenkins job
2. Click on build number (e.g., #1, #2)
3. Select **Console Output**
4. Review build logs for errors or success messages

---

## **âœ… Build Success Indicators**

- âœ… Green checkmark in Jenkins dashboard
- âœ… Console output shows: `Finished: SUCCESS`
- âœ… All dependencies installed successfully
- âœ… No error messages in console
- âœ… `node_modules/` folder created in workspace

---

## **ğŸ› ï¸ Troubleshooting**

### **Build Fails**

- Check console output for specific errors
- Verify GitHub webhook is configured correctly
- Ensure NodeJS plugin is installed
- Check permissions on Jenkins workspace directory
- Verify `package.json` syntax is correct

### **Webhook Not Triggering**

- Verify Jenkins public IP is accessible from internet
- Check webhook delivery in GitHub settings
- Ensure Jenkins URL ends with `/github-webhook/`
- Check Recent Deliveries in GitHub webhook settings

### **npm install Fails**

- Check if NodeJS is properly configured in Build Environment
- Verify `package.json` is valid JSON
- Check console output for specific npm errors

---

## **ğŸ“¸ Project Screenshots**

<img width="1918" height="895" alt="image" src="https://github.com/user-attachments/assets/254e2f22-8795-4995-9b27-2942d43842c9" />

<img width="1919" height="808" alt="image" src="https://github.com/user-attachments/assets/1ea1ef42-e6e2-40ab-b784-edf508c483eb" />

<img width="1917" height="911" alt="image" src="https://github.com/user-attachments/assets/441993dd-a2e3-4870-bcc8-39aae5727580" />

---

## **ğŸ¯ Key Learning Points**

- Setting up CI/CD with Jenkins Freestyle Project
- Configuring GitHub webhooks for automation
- Building Node.js applications in Jenkins
- Managing Jenkins workspaces
- Debugging build failures using console output
- Using Execute Shell in Jenkins build steps

---

## **ğŸ“ Notes**

- **Project Type**: Jenkins Freestyle Project
- **Jenkins workspace location**: `/var/lib/jenkins/workspace/simple-node-app/`
- **Application runs on**: Port 3000 by default
- **Process manager**: PM2 on development server
- **Build command**: `npm install` (runs in Execute Shell)

---

## **ğŸ”§ Technologies Used**

- **Node.js**: JavaScript runtime
- **Express.js**: Web application framework
- **Jenkins Freestyle**: CI/CD automation
- **GitHub**: Version control and webhook trigger
- **PM2**: Process manager for Node.js
- **Ubuntu**: Linux operating system

---

## **ğŸ‘¤ Author**

Your Name - Samarth Funde

---

## **ğŸ“„ License**

This project is for learning purposes.

---

**Happy Learning! ğŸš€**
